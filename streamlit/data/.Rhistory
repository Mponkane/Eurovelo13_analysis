.libPaths()
library(r5r)
library(sf)
?st_read
library(r5r)
library(sf)
# build transport network
data_path <- system.file("extdata/kuopio", package = "r5r")
r5r_core <- setup_r5(data_path)
# allocate RAM memory to Java
options(java.parameters = "-Xmx10G")
library(r5r)
library(sf)
# build transport network
data_path <- system.file("extdata/kuopio", package = "r5r")
r5r_core <- setup_r5(data_path)
# allocate RAM memory to Java
options(java.parameters = "-Xmx8G")
library(r5r)
library(sf)
data_path <- system.file("extdata/kuopio", package = "r5r")
r5r_core <- setup_r5(data_path,
verbose = T)
stop_r5()
data_path <- system.file("extdata/kuopio", package = "r5r")
r5r_core <- setup_r5(data_path,
verbose = T)
gc()
delete_cache()
library(R.cache)
install.packages("R.cache")
library(R.cache)
clearCache()
# allocate RAM memory to Java
options(java.parameters = "-Xmx8G")
library(r5r)
library(sf)
data_path <- system.file("extdata/kuopio", package = "r5r")
r5r_core <- setup_r5(data_path,
verbose = T)
# Load the required libraries
library(sf)
library(dplyr)
# Set the working directory
setwd("C:/Users/MattiPonkanen/github/Eurovelo13_analysis/streamlit/data")
eurovelo <- st_read(eurovelo.shp)
# Load the required libraries
library(sf)
library(dplyr)
# Set the working directory
setwd("C:/Users/MattiPonkanen/github/Eurovelo13_analysis/streamlit/data")
eurovelo <- st_read("eurovelo.shp")
unique(eurovelo$name)
# Define the order of the routes
route_order <- c("Kirakkajärvi-Näätämö", "Nitsijärvi-Kirakkajärvi", "Kaamanen - Nitsijärvi", "Inari - Kaamanen", "Ivalo - Inari", "Saariselkä - Ivalo", "Vuotso - Saariselkä", "Peurasuvanto - Vuotso", "Sodankylä - Peurasuvanto", "Pyhä - Sodankylä", "Savukoski - Pyhä", "Salla-Savukoski", "Salla-Käylä", "Käylä-Ruka", "Ruka-Kuusamo", "Kuusamo-Hossa", "Hossa-Juntusjärvi", "Juntusjärvi-Suomussalmi", "Suomussalmi-Lentiira", "Lentiira-Kuhmo", "Kuhmo-Lieksa", "Lieksa-Kitsi", "Kitsi-Ilomantsi", "Ilomantsi-Värtsilä", "Värtsilä-Kitee", "Kitee-Kesälahti", "Kesälahti-Niukkala", "Niukkala-Parikkala", "Parikkala-Imatra", "Imatra-Lappeenranta", "Lappeenranta-Vaalimaa")
# Add the route_order field to the eurovelo data frame
eurovelo$route_order <- match(eurovelo$route, route_order)
# Define the order of the routes
route_order <- c("Kirakkajärvi-Näätämö", "Nitsijärvi-Kirakkajärvi", "Kaamanen - Nitsijärvi", "Inari - Kaamanen", "Ivalo - Inari", "Saariselkä - Ivalo", "Vuotso - Saariselkä", "Peurasuvanto - Vuotso", "Sodankylä - Peurasuvanto", "Pyhä - Sodankylä", "Savukoski - Pyhä", "Salla-Savukoski", "Salla-Käylä", "Käylä-Ruka", "Ruka-Kuusamo", "Kuusamo-Hossa", "Hossa-Juntusjärvi", "Juntusjärvi-Suomussalmi", "Suomussalmi-Lentiira", "Lentiira-Kuhmo", "Kuhmo-Lieksa", "Lieksa-Kitsi", "Kitsi-Ilomantsi", "Ilomantsi-Värtsilä", "Värtsilä-Kitee", "Kitee-Kesälahti", "Kesälahti-Niukkala", "Niukkala-Parikkala", "Parikkala-Imatra", "Imatra-Lappeenranta", "Lappeenranta-Vaalimaa")
# Add the route_order field to the eurovelo data frame
eurovelo$route_order <- match(eurovelo$name, route_order)
View(eurovelo)
# Define the order of the routes
route_order <- c("Kirakkajärvi - Näätämö", "Nitsijärvi - Kirakkajärvi", "Kaamanen - Nitsijärvi", "Inari - Kaamanen", "Ivalo - Inari", "Saariselkä - Ivalo", "Vuotso - Saariselkä", "Peurasuvanto - Vuotso", "Sodankylä - Peurasuvanto", "Pyhä - Sodankylä", "Savukoski - Pyhä", "Salla-Savukoski", "Salla-Käylä", "Käylä-Ruka", "Ruka-Kuusamo", "Kuusamo-Hossa", "Hossa-Juntusjärvi", "Juntusjärvi-Suomussalmi", "Suomussalmi-Lentiira", "Lentiira-Kuhmo", "Kuhmo-Lieksa", "Lieksa-Kitsi", "Kitsi-Ilomantsi", "Ilomantsi-Värtsilä", "Värtsilä-Kitee", "Kitee-Kesälahti", "Kesälahti-Niukkala", "Niukkala-Parikkala", "Parikkala-Imatra", "Imatra-Lappeenranta", "Lappeenranta-Vaalimaa")
# Add the route_order field to the eurovelo data frame
eurovelo$route_order <- match(eurovelo$name, route_order)
View(eurovelo)
# Load the required libraries
library(sf)
library(dplyr)
# Set the working directory
setwd("C:/Users/MattiPonkanen/github/Eurovelo13_analysis/streamlit/data")
eurovelo <- st_read("eurovelo.shp")
# Define the order of the routes
route_order <- c("Kirakkajärvi - Näätämö", "Nitsijärvi - Kirakkajärvi", "Kaamanen - Nitsijärvi", "Inari - Kaamanen", "Ivalo - Inari", "Saariselkä - Ivalo", "Vuotso - Saariselkä", "Peurasuvanto - Vuotso", "Sodankylä - Peurasuvanto", "Pyhä - Sodankylä", "Savukoski - Pyhä", "Salla-Savukoski", "Salla-Käylä", "Käylä-Ruka", "Ruka-Kuusamo", "Kuusamo-Hossa", "Hossa-Juntusjärvi", "Juntusjärvi-Suomussalmi", "Suomussalmi-Lentiira", "Lentiira-Kuhmo", "Kuhmo-Lieksa", "Lieksa-Kitsi", "Kitsi-Ilomantsi", "Ilomantsi-Värtsilä", "Värtsilä-Kitee", "Kitee-Kesälahti", "Kesälahti-Niukkala", "Niukkala-Parikkala", "Parikkala-Imatra", "Imatra-Lappeenranta", "Lappeenranta-Vaalimaa")
# Add the route_order field to the eurovelo data frame
eurovelo$route_order <- match(eurovelo$name, route_order)
st_write(eurovelo, "eurovelo.shp", delete_layer = TRUE)
# Load the required libraries
library(sf)
library(dplyr)
# Set the working directory
setwd("C:/Users/MattiPonkanen/github/Eurovelo13_analysis/streamlit/data")
eurovelo <- st_read("eurovelo.shp")
st_write(eurovelo, "eurovelo.shp", delete_layer = TRUE)
st_write(eurovelo, "eurovelo2.shp", delete_layer = TRUE)
st_write(eurovelo, "eurovelo.shp")
st_write(eurovelo, "eurovelo2.shp")
eurovelo_2d <- st_cast(eurovelo, "MULTILINESTRING")
st_write(eurovelo, "eurovelo.shp")
st_write(eurovelo_2d, "eurovelo.shp")
st_write(eurovelo, "eurovelo.shp")
eurovelo_2d <- st_cast(eurovelo, "MULTILINESTRING")
st_write(eurovelo_2d, "eurovelo.shp")
eurovelo_2d <- st_zm(eurovelo_2d, drop = "Z")
eurovelo_2d <- st_transform(eurovelo_2d, st_crs(eurovelo_2d)$epsg)
st_write(eurovelo_2d, "eurovelo.shp")
# Load the required libraries
library(sf)
library(dplyr)
# Set the working directory
setwd("C:/Users/MattiPonkanen/github/Eurovelo13_analysis/streamlit/data")
# Read in the eurovelo shapefile
eurovelo <- st_read("eurovelo.shp")
# Define the order of the routes
route_order <- c("Kirakkajärvi - Näätämö", "Nitsijärvi - Kirakkajärvi", "Kaamanen - Nitsijärvi", "Inari - Kaamanen", "Ivalo - Inari", "Saariselkä - Ivalo", "Vuotso - Saariselkä", "Peurasuvanto - Vuotso", "Sodankylä - Peurasuvanto", "Pyhä - Sodankylä", "Savukoski - Pyhä", "Salla-Savukoski", "Salla-Käylä", "Käylä-Ruka", "Ruka-Kuusamo", "Kuusamo-Hossa", "Hossa-Juntusjärvi", "Juntusjärvi-Suomussalmi", "Suomussalmi-Lentiira", "Lentiira-Kuhmo", "Kuhmo-Lieksa", "Lieksa-Kitsi", "Kitsi-Ilomantsi", "Ilomantsi-Värtsilä", "Värtsilä-Kitee", "Kitee-Kesälahti", "Kesälahti-Niukkala", "Niukkala-Parikkala", "Parikkala-Imatra", "Imatra-Lappeenranta", "Lappeenranta-Vaalimaa")
# Add the route_order field to the eurovelo data frame
eurovelo$route_order <- match(eurovelo$name, route_order)
# Write the updated data to a shapefile
st_write(eurovelo, "eurovelo2.shp")
eurovelo_2d <- st_cast(eurovelo, "MULTILINESTRING")
st_write(eurovelo_2d, "eurovelo2.shp")
eurovelo_2d <- st_zm(eurovelo_2d, drop = "Z")
